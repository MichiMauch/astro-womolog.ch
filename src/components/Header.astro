<header>
    <h1>Womolog</h1>
    <nav>
        <a href="/">Startseite</a>
        <a href="/stats/">Stats</a>
    </nav>
    <input type="text" id="search-input" placeholder="Suche nach Titel" oninput="filterCards()" />
    <p>Treffer: <span id="result-count">0</span></p> <!-- Anzeige der Anzahl Treffer -->
</header>

<script>
    // Weise die Funktion dem globalen `window`-Objekt zu
    window.filterCards = function () {
        const searchInput = document.getElementById('search-input');

        // Überprüfe, ob es sich um ein HTMLInputElement handelt
        if (searchInput instanceof HTMLInputElement) {
            const searchValue = searchInput.value.toLowerCase();
            const cards = document.querySelectorAll('.camp-card');
            let visibleCount = 0;

            cards.forEach(card => {
                // Überprüfe, ob das Element ein HTMLElement ist
                if (card instanceof HTMLElement) {
                    const title = card.querySelector('h2')?.textContent?.toLowerCase() || '';
                    if (title.includes(searchValue)) {
                        card.style.display = 'block';
                        visibleCount++; // Zähle die sichtbaren Karten
                    } else {
                        card.style.display = 'none';
                    }
                }
            });

            // Aktualisiere die Anzahl der Treffer
            const resultCount = document.getElementById('result-count');
            if (resultCount) {
                resultCount.textContent = visibleCount.toString();
            }
        }
    };

    // Initialisiere die Trefferanzahl beim Laden der Seite
    window.addEventListener('DOMContentLoaded', () => {
        window.filterCards();
    });
</script>